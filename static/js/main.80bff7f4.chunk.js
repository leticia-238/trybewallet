(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{34:function(e,t,a){e.exports=a(56)},39:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),i=a(19),o=(a(39),a(3)),s=a(2),u=a(24),m=a(15),p=a(8),d=a(9),E=a(11),h=a(10),b=function(e){return{type:"RECEIVE_DATA_CURRENCIES",currencies:Object.keys(e).filter((function(e){return"USDT"!==e})),currenciesData:e}},f=a(33);a(44);var v=function(){return r.a.createElement("div",{className:"logo"},r.a.createElement("figure",null,r.a.createElement(f.a,{className:"icon-wallet"})),r.a.createElement("h2",{className:"title-wallet"},"Wallet"))},g=(a(45),function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(m.a)({},n,r)),e.validLoginForm()},e.validLoginForm=function(){e.setState((function(e){var t=e.email,a=e.password;return{isValidLogin:/\S+@\S+\.com/.test(t)&&a.length>=6}}))},e.state={email:"",password:"",isValidLogin:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isValidLogin,l=this.props.dispatch;return r.a.createElement("form",{className:"login-form"},r.a.createElement(v,null),r.a.createElement("label",{htmlFor:"email-input",className:"label"},"email",r.a.createElement("input",{type:"text",id:"email-input",className:"input",name:"email",value:t,onChange:this.handleInput})),r.a.createElement("label",{htmlFor:"password-input",className:"label"},"senha",r.a.createElement("input",{type:"password",id:"password-input",className:"input",name:"password",value:a,onChange:this.handleInput})),r.a.createElement("button",{type:"button",className:"btn",disabled:!n,onClick:function(){return l(function(e){return{type:"SAVE_USER",email:e}}(t))}},"Entrar"))}}]),a}(n.Component)),j=Object(o.b)()(g),O=(a(46),function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.totalExpenses;return r.a.createElement("header",{className:"header"},r.a.createElement(v,null),r.a.createElement("h2",{"data-testid":"email-field",className:"email-field"},t),r.a.createElement("div",{className:"header-field"},r.a.createElement("p",{"data-testid":"total-field",className:"total-field"},a),r.a.createElement("p",{"data-testid":"header-currency-field",className:"header-currency-field"},"BRL")))}}]),a}(n.Component));O.defaultProps={totalExpenses:"0.00"};var y=Object(o.b)((function(e){return{email:e.user.email,totalExpenses:e.wallet.totalExpenses}}),null)(O),N=a(21),w=a.n(N),x=a(29),C=function(){return function(){var e=Object(x.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_DATA_CURRENCIES"}),e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t(b(n)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=a(12),R=(a(48),function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(m.a)({},n,r))},e.defaultState={value:"0",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.state=Object(S.a)({},e.defaultState),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.description,l=t.currency,c=t.method,i=t.tag,o=this.props,s=o.currencies,u=o.dispatch;return r.a.createElement("form",{className:"expense-form"},r.a.createElement("label",{htmlFor:"description-input",className:"label"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",id:"description-input",name:"description",className:"input",value:n,onChange:this.handleInput})),r.a.createElement("label",{htmlFor:"value-input",className:"label value"},"Valor",r.a.createElement("input",{type:"number",id:"value-input",name:"value",className:"input",value:a,onChange:this.handleInput})),r.a.createElement("label",{htmlFor:"currency-input",className:"label currency"},"Moeda",r.a.createElement("select",{id:"currency-input",name:"currency",className:"input",value:l,onChange:this.handleInput},s.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"method-input",className:"label"},"M\xe9todo de pagamento",r.a.createElement("select",{id:"method-input",name:"method",className:"input",onChange:this.handleInput,value:c},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag-input",className:"label"},"Categoria",r.a.createElement("select",{id:"tag-input",name:"tag",className:"input",onChange:this.handleInput,value:i},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("button",{type:"button",className:"btn",onClick:function(){u({type:"SAVE_EXPENSE",expense:e.state}),u(C()),e.setState(Object(S.a)({},e.defaultState))}},"Adicionar despesa"))}}]),a}(n.Component)),F=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}))(R),k=function(e){var t;return"string"===typeof e&&(t=parseFloat(e)),t=Math.floor(100*e),t="".concat(t).replace(/([0-9]{2}$)/,".$1")},D=(a(49),function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",{className:"expenses-table"},r.a.createElement("caption",null,"Moeda de convers\xe3o: Real"),r.a.createElement("thead",{className:"table-titles"},r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"))),r.a.createElement("tbody",{className:"table-items"},e.map((function(e){var t=e.currency,a=e.id,n=e.description,l=e.tag,c=e.method,i=e.value,o=e.exchangeRates[t],s=o.ask,u=o.name;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,k(i)),r.a.createElement("td",null,u),r.a.createElement("td",null,parseFloat(s).toFixed(2)),r.a.createElement("td",null,k(parseFloat(i)*parseFloat(s))))}))))}}]),a}(n.Component)),A=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),null)(D),I=(a(50),function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(C())}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement("main",{className:"main-content"},r.a.createElement(F,null),r.a.createElement("div",{className:"wrapper-table"},r.a.createElement(A,null))))}}]),a}(n.Component)),L=Object(o.b)()(I);var T=Object(o.b)((function(e){return{isLogged:e.user.isLogged}}),null)((function(e){var t=e.isLogged;return r.a.createElement(s.Switch,null,r.a.createElement(u.Route,{exact:!0,path:"/"},t?r.a.createElement(s.Redirect,{to:"/carteira"}):r.a.createElement(j,null)),r.a.createElement(u.Route,{exact:!0,path:"/carteira"},r.a.createElement(L,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(13),_=a(30),U=a(31),M={email:"",isLogged:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.email;switch(t.type){case"SAVE_USER":return{email:a,isLogged:!0};default:return e}},z=a(32),B={currencies:[],expenses:[],totalExpenses:"0.00",currenciesData:{},isFetching:!1},P=function(e,t){var a=t.value,n=t.currency,r=t.exchangeRates[n].ask,l=parseFloat(e)+parseFloat(a)*parseFloat(r);return k(l)},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.currencies,n=t.currenciesData,r=t.expense;switch(t.type){case"REQUEST_DATA_CURRENCIES":return Object(S.a)(Object(S.a)({},e),{},{isFetching:!0});case"RECEIVE_DATA_CURRENCIES":return Object(S.a)(Object(S.a)({},e),{},{currencies:a,currenciesData:n,isFetching:!1});case"SAVE_EXPENSE":return r.id=e.expenses.length,r.exchangeRates=e.currenciesData,Object(S.a)(Object(S.a)({},e),{},{expenses:[].concat(Object(z.a)(e.expenses),[r]),totalExpenses:P(e.totalExpenses,r)});default:return e}},J=Object(V.combineReducers)({user:W,wallet:$}),Q=Object(V.createStore)(J,Object(_.composeWithDevTools)(Object(V.applyMiddleware)(U.a)));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:Q},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.80bff7f4.chunk.js.map